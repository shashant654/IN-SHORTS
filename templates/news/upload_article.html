{% extends "base.html" %}

{% block content %}
<h2>Upload News Article</h2>
{% if request.user.usersubscription %}
    <p>You have used {{ request.user.articles.count }} of {{ request.user.usersubscription.plan.article_upload_limit }} uploads.</p>
{% endif %}

<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <label>Title:</label>
    <input type="text" name="title" required><br><br>

    <label>Summary:</label>
    <textarea name="summary" required></textarea><br><br>

    <label>Content:</label>
    <textarea name="content" required></textarea><br><br>

    <label>Source URL:</label>
    <input type="url" name="source_url" required><br><br>

    <label>Category:</label>
    <select name="category" required>
        {% for category in categories %}
            <option value="{{ category.id }}">{{ category.name }}</option>
        {% endfor %}
    </select><br><br>

    <label>Heading Image:</label>
    <input type="file" name="heading_image"><br><br>

    <label>Additional Article Images:</label>
    <input type="file" name="article_images" multiple><br><br>

    <button type="submit">Upload</button>
</form>
{% endblock %}
